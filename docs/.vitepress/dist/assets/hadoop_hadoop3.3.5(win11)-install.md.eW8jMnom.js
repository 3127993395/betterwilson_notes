import{_ as s,c as i,o as a,a3 as t}from"./chunks/framework.D5qxx6u8.js";const n="/assets/image-20240421102748392.F5u8lt_s.png",l="/assets/image-20240421102823186.Ct_1b2uO.png",p="/assets/image-20240421094930073.BStw55fM.png",h="/assets/image-20240421101933364.BjZ648WK.png",e="/assets/image-20240421102851044.BFrgO2Lm.png",k="/assets/image-20240421102926079.EoxmmV9B.png",E="/assets/image-20240421103004640.CMmKHTTK.png",r="/assets/image-20240421130652123.Z4e3D20Y.png",d="/assets/image-20240421105423344.uHGHOtS_.png",g="/assets/image-20240421105342475.BgocvprC.png",o="/assets/image-20240421130209908.DPDpcY-W.png",c="/assets/image-20240421140755316.CaomoNcZ.png",y="/assets/image-20240421140819047.twnWzsmb.png",m="/assets/image-20240421141200103.BrmzLWUQ.png",u="/assets/image-20240421141429812.BuknrD-R.png",b="/assets/image-20240421101510053.BuVEME5t.png",D="/assets/image-20240421110623708.4rG8uV6N.png",A="/assets/image-20240421111712857.DxDLANQh.png",f="/assets/image-20240421133455950.BEEI4BG7.png",S=JSON.parse('{"title":"Hadoop在win11安装","description":"","frontmatter":{},"headers":[],"relativePath":"hadoop/hadoop3.3.5(win11)-install.md","filePath":"hadoop/hadoop3.3.5(win11)-install.md"}'),v={name:"hadoop/hadoop3.3.5(win11)-install.md"},_=t('<h1 id="hadoop在win11安装" tabindex="-1">Hadoop在win11安装 <a class="header-anchor" href="#hadoop在win11安装" aria-label="Permalink to &quot;Hadoop在win11安装&quot;">​</a></h1><h2 id="_1-安装并配置jdk-1-8-jdk-8u391" tabindex="-1">1 安装并配置jdk-1.8（jdk-8u391） <a class="header-anchor" href="#_1-安装并配置jdk-1-8-jdk-8u391" aria-label="Permalink to &quot;1 安装并配置jdk-1.8（jdk-8u391）&quot;">​</a></h2><p><a href="https://www.oracle.com/java/technologies/javase/javase8u211-later-archive-downloads.html" target="_blank" rel="noreferrer">Java Archive Downloads - Java SE 8u211 and later (oracle.com)</a></p><p><strong>注意</strong>：更改jre和jdk路径，不要包含空格和中文</p><h3 id="配置java环境变量" tabindex="-1">配置java环境变量 <a class="header-anchor" href="#配置java环境变量" aria-label="Permalink to &quot;配置java环境变量&quot;">​</a></h3><p><img src="'+n+'" alt="image-20240421102748392"></p><p><img src="'+l+'" alt="image-20240421102823186"></p><h3 id="检查是否安装完成" tabindex="-1">检查是否安装完成 <a class="header-anchor" href="#检查是否安装完成" aria-label="Permalink to &quot;检查是否安装完成&quot;">​</a></h3><p><code>win+r+cmd</code></p><p><img src="'+p+'" alt="image-20240421094930073"></p><h2 id="_2-下载并配置hadoop" tabindex="-1">2 下载并配置Hadoop <a class="header-anchor" href="#_2-下载并配置hadoop" aria-label="Permalink to &quot;2 下载并配置Hadoop&quot;">​</a></h2><p><a href="https://hadoop.apache.org/release/3.3.5.html" target="_blank" rel="noreferrer">Apache Hadoop-3.3.5</a></p><p>由于Hadoop大部分在linux上使用，所以在win系统上使用还需要下载<code>winutils</code>这个第三方包</p><p><a href="https://github.com/cdarlint/winutils" target="_blank" rel="noreferrer">GitHub - cdarlint/winutils: winutils.exe hadoop.dll and hdfs.dll binaries for hadoop windows</a></p><p>下载对应版本的包含winutiles.exe文件的压缩包，将压缩包里bin里的所有文件替换掉Hadoop的解压缩文件夹里的bin文件夹里文件</p><p><img src="'+h+'" alt="image-20240421101933364"></p><h3 id="配置hadoop环境变量" tabindex="-1">配置Hadoop环境变量 <a class="header-anchor" href="#配置hadoop环境变量" aria-label="Permalink to &quot;配置Hadoop环境变量&quot;">​</a></h3><p><img src="'+e+'" alt="image-20240421102851044"></p><p><img src="'+k+'" alt="image-20240421102926079"></p><h3 id="检查是否安装完成-1" tabindex="-1">检查是否安装完成 <a class="header-anchor" href="#检查是否安装完成-1" aria-label="Permalink to &quot;检查是否安装完成&quot;">​</a></h3><p><img src="'+E+`" alt="image-20240421103004640"></p><h3 id="修改hadoop配置文件" tabindex="-1">修改Hadoop配置文件 <a class="header-anchor" href="#修改hadoop配置文件" aria-label="Permalink to &quot;修改Hadoop配置文件&quot;">​</a></h3><h4 id="core-site-xml" tabindex="-1">core-site.xml <a class="header-anchor" href="#core-site-xml" aria-label="Permalink to &quot;core-site.xml&quot;">​</a></h4><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;fs.defaultFS&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;hdfs://localhost:9000&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;hadoop.tmp.dir&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;file:///E:/hadoop-3.3.5/tmp&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h4 id="hdfs-site-xml" tabindex="-1">hdfs-site.xml <a class="header-anchor" href="#hdfs-site-xml" aria-label="Permalink to &quot;hdfs-site.xml&quot;">​</a></h4><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;dfs.replication&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;1&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;dfs.namenode.name.dir&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;file:///E:/hadoop-3.3.5/data/dfs/namenode&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;dfs.datanode.data.dir&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;file:///E:/hadoop-3.3.5/data/dfs/datanode&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><strong>注意</strong>：<code>file</code>所指文件保存路径替换成自己设置的namenode和datanode的地址，没有的文件夹要自己去新建，建好文件夹再填这些地址进入配置</p><h4 id="mapred-site-xml" tabindex="-1">mapred-site.xml <a class="header-anchor" href="#mapred-site-xml" aria-label="Permalink to &quot;mapred-site.xml&quot;">​</a></h4><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;mapreduce.framework.name&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;yarn&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h4 id="yarn-site-xml" tabindex="-1">yarn-site.xml <a class="header-anchor" href="#yarn-site-xml" aria-label="Permalink to &quot;yarn-site.xml&quot;">​</a></h4><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;yarn.nodemanager.aux-services&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;mapreduce_shuffle&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;yarn.nodemanager.auxservices.mapreduce.shuffle.class&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;org.apache.hadoop.mapred.ShuffleHandler&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="格式化namenode" tabindex="-1">格式化namenode <a class="header-anchor" href="#格式化namenode" aria-label="Permalink to &quot;格式化namenode&quot;">​</a></h3><p>在hadoop安装目录的bin目录下</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hadoop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> namenode</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -format</span></span></code></pre></div><p><img src="`+r+'" alt="image-20240421130652123"></p><p>成功格式化后进入hadoop的sbin文件夹内打开各节点</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">start-all.cmd</span></span></code></pre></div><p><img src="'+d+'" alt="image-20240421105423344"></p><p><img src="'+g+'" alt="image-20240421105342475"></p><h3 id="检查是否成功运行4个进程" tabindex="-1">检查是否成功运行4个进程 <a class="header-anchor" href="#检查是否成功运行4个进程" aria-label="Permalink to &quot;检查是否成功运行4个进程&quot;">​</a></h3><p><img src="'+o+'" alt="image-20240421130209908"></p><h2 id="_3-下载并配置spark" tabindex="-1">3 下载并配置Spark <a class="header-anchor" href="#_3-下载并配置spark" aria-label="Permalink to &quot;3 下载并配置Spark&quot;">​</a></h2><p><a href="https://spark.apache.org/downloads.html" target="_blank" rel="noreferrer">Downloads | Apache Spark</a></p><p>配置Spark环境变量</p><p><img src="'+c+'" alt="image-20240421140755316"></p><p><img src="'+y+'" alt="image-20240421140819047"></p><h3 id="检查是否安装完成-2" tabindex="-1">检查是否安装完成 <a class="header-anchor" href="#检查是否安装完成-2" aria-label="Permalink to &quot;检查是否安装完成&quot;">​</a></h3><p><img src="'+m+'" alt="image-20240421141200103"></p><h3 id="运行pyspark" tabindex="-1">运行pyspark <a class="header-anchor" href="#运行pyspark" aria-label="Permalink to &quot;运行pyspark&quot;">​</a></h3><p>在spark根目录python文件夹下运行pyspark</p><p><img src="'+u+'" alt="image-20240421141429812"></p><h2 id="报错解决" tabindex="-1">报错解决 <a class="header-anchor" href="#报错解决" aria-label="Permalink to &quot;报错解决&quot;">​</a></h2><h3 id="cannot-create-symbolic-link-客户端没有所需的特权。-e-hadoop-3-3-5-lib-native-libhdfspp-so" tabindex="-1">Cannot create symbolic link : 客户端没有所需的特权。 : E:\\hadoop-3.3.5\\lib\\native\\libhdfspp.so <a class="header-anchor" href="#cannot-create-symbolic-link-客户端没有所需的特权。-e-hadoop-3-3-5-lib-native-libhdfspp-so" aria-label="Permalink to &quot;Cannot create symbolic link : 客户端没有所需的特权。 : E:\\hadoop-3.3.5\\lib\\native\\libhdfspp.so&quot;">​</a></h3><p>我使用7-zip解压Hadoop文件夹，但是报错</p><p><img src="'+b+'" alt="image-20240421101510053"></p><p>解决办法：已管理员身份运行<code>7-zip</code>对Hadoop文件夹解压缩，即可正常全部解压</p><h3 id="java-io-ioexception-namenode-is-not-formatted" tabindex="-1">java.io.IOException: NameNode is not formatted. <a class="header-anchor" href="#java-io-ioexception-namenode-is-not-formatted" aria-label="Permalink to &quot;java.io.IOException: NameNode is not formatted.&quot;">​</a></h3><p><img src="'+D+'" alt="image-20240421110623708"></p><p>出现这个报错是指namenode没有初始化</p><p>解决办法，杀死所有进程后进行初始化，然后再<code>start-all.cmd</code></p><h3 id="nodemanager没有启动" tabindex="-1">NodeManager没有启动 <a class="header-anchor" href="#nodemanager没有启动" aria-label="Permalink to &quot;NodeManager没有启动&quot;">​</a></h3><p><img src="'+A+`" alt="image-20240421111712857"></p><p>解决办法：添加<code>yarn-site.xml</code>文件配置,变成如下配置</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;yarn.nodemanager.aux-services&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;mapreduce_shuffle&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;yarn.nodemanager.auxservices.mapreduce.shuffle.class&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;org.apache.hadoop.mapred.ShuffleHandler&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;yarn.nodemanager.resource.memory-mb&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;1024&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;yarn.nodemanager.resource.cpu-vcores&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;1&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>补充的两条配置第一个是nodemanager运行时的最低内存，第二个是nodemanager运行时的cpu数量</p><p>修改后再次运行，发现还是报错</p><p>查找错误日志</p><p><img src="`+f+'" alt="image-20240421133455950"></p><p>解决办法：运行<code>start-all.cmd</code>时需要以管理员身份运行cmd，即可正常运行</p>',69),x=[_];function q(C,w,P,j,H,B){return a(),i("div",null,x)}const N=s(v,[["render",q]]);export{S as __pageData,N as default};
